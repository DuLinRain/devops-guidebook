(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"+l6E":function(e,n,a){"use strict";a.r(n);var l=a("q1tI"),t=a.n(l),c=(a("B2uJ"),a("+su7"),a("qOys")),r=a.n(c);a("5Yjd");n["default"]=function(){return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"markdown"},t.a.createElement("h1",{id:"\u57fa\u672c\u64cd\u4f5c"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u64cd\u4f5c"},t.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u64cd\u4f5c"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u5b89\u88c5 Install"),t.a.createElement("li",null,"\u521b\u5efa Create"),t.a.createElement("li",null,"\u8bfb\u53d6 Read"),t.a.createElement("li",null,"\u66f4\u65b0 Update"),t.a.createElement("li",null,"\u5220\u9664 Delete")),t.a.createElement("h2",{id:"\u542f\u52a8\u6570\u636e\u5e93"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u542f\u52a8\u6570\u636e\u5e93"},t.a.createElement("span",{className:"icon icon-link"})),"\u542f\u52a8\u6570\u636e\u5e93"),t.a.createElement("p",null,"\u542f\u52a8\u6570\u636e\u5e93\u4f7f\u7528 ",t.a.createElement("code",null,"mongod")," \u547d\u4ee4\u3002"),t.a.createElement(r.a,{code:"# \u65b9\u5f0f\u4e00\uff1a\u666e\u901a\u65b9\u5f0f\u542f\u52a8\n# \u4e0d\u5b9e\u7528\u9ed8\u8ba4\u7aef\u53e3\u7684\u8bdd\u53ef\u4ee5\u52a0\u4e0a --port=[\u7aef\u53e3\u53f7]\u53c2\u6570\nmongod --dbpath ~/data/db\n\n# \u65b9\u5f0f\u4e8c\uff1a\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u542f\u52a8\nmongod --config ~/mongo.conf\n",lang:"bash"}),t.a.createElement("p",null,"\u914d\u7f6e\u6587\u4ef6\u5185\u5bb9\uff1a"),t.a.createElement(r.a,{code:"# \u670d\u52a1\u7aef\u53e3\nport=27017\n# \u6570\u636e\u6587\u4ef6\u8def\u5f84\ndbpath=\n# \u65e5\u5fd7\u6587\u4ef6\u8def\u5f84\nlogpath=\n# \u6253\u5f00\u65e5\u5fd7\u8f93\u51fa\u64cd\u4f5c\nlogappend=true\n# \u4e0d\u4f7f\u7528\u4efb\u4f55\u7684\u9a8c\u8bc1\u65b9\u5f0f\u767b\u9646\nnoauth=true\n",lang:"bash"}),t.a.createElement("h2",{id:"\u8fde\u63a5\u6570\u636e\u5e93"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u8fde\u63a5\u6570\u636e\u5e93"},t.a.createElement("span",{className:"icon icon-link"})),"\u8fde\u63a5\u6570\u636e\u5e93"),t.a.createElement("p",null,"\u8fde\u63a5\u6570\u636e\u5e93\u4f7f\u7528 ",t.a.createElement("code",null,"mongo [, \u94fe\u63a5\u5b57\u7b26\u4e32]")),t.a.createElement(r.a,{code:"mongodb://<username>:<password>@<host>:<port1>,<host2>:<port2>,...,<hostN>:<portN>/<database>?<options>\n",lang:"js"}),t.a.createElement("p",null,"\u767b\u9646\u672c\u5730\u9ed8\u8ba4\u6570\u636e\u5e93\u670d\u52a1\u5668\uff0c\u65e0\u7528\u6237\u540d\u5bc6\u7801\uff0c\u7aef\u53e3\u9ed8\u8ba4 27017\uff0c\u94fe\u63a5\u9ed8\u8ba4\u7684 db \u6570\u636e\u5e93\u3002"),t.a.createElement(r.a,{code:"# \u8fde\u63a5\u6570\u636e\u5e93\nmongo mongodb://localhost/db\n",lang:"bash"}),t.a.createElement("p",null,"\ud83c\udf30 ",t.a.createElement("strong",null,"\u793a\u4f8b\uff1a")),t.a.createElement("p",null,"\u6216\uff0c\u4f7f\u7528\u7528\u6237\u540d admin\u3001\u5bc6\u7801 123456\uff0c\u767b\u9646\u672c\u5730\u7aef\u53e3\u4e3a 27017 \u7684 test \u6570\u636e\u5e93\u3002"),t.a.createElement(r.a,{code:"# \u5b9e\u6218\u793a\u4f8b\nmongo mongodb://admin:123456@localhost:27017/test\n",lang:"bash"}),t.a.createElement("p",null,t.a.createElement("strong",null,"\u4ee5\u4e0b\u4ee3\u7801\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fde\u63a5\u5230\u672c\u5730 Docker \u5bb9\u5668\u4e0a\u8fd0\u884c\u7684 mongod \u8fdb\u7a0b")),t.a.createElement(r.a,{code:"const mongoose = require('mongoose');\nconst mongoDB = 'mongodb://localhost:27017/demo';\nmongoose.conncet(mongoDB, {useNewUrlParser: true});\n\nconst db.mongoose.connection;\ndb.on('error', console.error.bind(console, 'MongoDB\u8fde\u63a5\u5f02\u5e38'));\n",lang:"js"}),t.a.createElement("h2",{id:"\u5207\u6362\u6570\u636e\u5e93"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5207\u6362\u6570\u636e\u5e93"},t.a.createElement("span",{className:"icon icon-link"})),"\u5207\u6362\u6570\u636e\u5e93"),t.a.createElement("p",null,"\u5207\u6362\u6570\u636e\u5e93\u7528 ",t.a.createElement("code",null,"use <db_name>"),"\uff0c\u5982\u679c\u8be5\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u65b0\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u3002"),t.a.createElement("p",null,"\ud83c\udf30 ",t.a.createElement("strong",null,"\u793a\u4f8b\uff1a")),t.a.createElement("p",null,"\u4f8b\u5982\u521b\u5efa\u4e00\u4e2a test \u7684\u6570\u636e\u5e93\uff1a"),t.a.createElement(r.a,{code:"# \u5207\u6362\u6570\u636e\u5e93\nuse <db_name>\n\n# \u67e5\u770b\u5f53\u524d\u6240\u5728\u6570\u636e\u5e93\ndb\n",lang:"bash"}),t.a.createElement("p",null,t.a.createElement("code",null,"<db_name>")," \u4e3a\u6570\u636e\u5e93\u540d\u79f0\u3002"),t.a.createElement("p",null,"\u663e\u793a\u5f53\u524d\u6240\u6709\u7684\u6570\u636e\u5e93\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 ",t.a.createElement("code",null,"show dbs")),t.a.createElement(r.a,{code:"# \u67e5\u770b\u5168\u90e8\u6570\u636e\u5e93\nshow dbs\n\n# \u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\u4e2d\u7684\u96c6\u5408\uff08\u7c7b\u4f3c\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u7684\u8868\uff09\nshow collections\n\n# \u67e5\u770b\u5f53\u524d\u6570\u636e\u7684\u7528\u6237\u4fe1\u606f\nshow users\n",lang:"bash"}),t.a.createElement("p",null,"\u67e5\u770b ",t.a.createElement("code",null,"db.[\u96c6\u5408\u540d\u79f0].find()")," \u521a\u624d\u6dfb\u52a0\u7684\u6570\u636e\u3002"),t.a.createElement(r.a,{code:'> use test\nswitched to db test\n> db.coll.find()\n{ "_id" : ObjectId("5a66e39914fea5f8ff237420"), "title" : "not data!" }\n',lang:"bash"}),t.a.createElement("p",null,"\u4f7f\u7528 ",t.a.createElement("code",null,"use")," \u547d\u4ee4\u5982\u679c\u6570\u636e\u5e93\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff0c\u5b58\u5728\u5219\u5207\u6362\u5230\u6307\u5b9a\u7684\u6570\u636e\u5e93\u3002"),t.a.createElement("h2",{id:"\u83b7\u53d6\u5e2e\u52a9\u4fe1\u606f"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u83b7\u53d6\u5e2e\u52a9\u4fe1\u606f"},t.a.createElement("span",{className:"icon icon-link"})),"\u83b7\u53d6\u5e2e\u52a9\u4fe1\u606f"),t.a.createElement(r.a,{code:"# \u663e\u793a\u6570\u636e\u5e93\u64cd\u4f5c\u547d\u4ee4\ndb.help()\n\n# \u663e\u793a\u96c6\u5408\u64cd\u4f5c\u547d\u4ee4\uff0c\u540c\u6837\u6709\u5f88\u591a\u547d\u4ee4\n# foo \u6307\u5f53\u524d\u6570\u636e\u5e93\u4e0b\uff0c\u4e00\u4e2a\u53eb foo \u7684\u96c6\u5408\uff0c\u5e76\u975e\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u547d\u4ee4\ndb.foo.help()\n",lang:"bash"}),t.a.createElement("h2",{id:"\u5220\u9664\u6570\u636e\u5e93"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5220\u9664\u6570\u636e\u5e93"},t.a.createElement("span",{className:"icon icon-link"})),"\u5220\u9664\u6570\u636e\u5e93"),t.a.createElement("p",null,"\u5220\u9664\u6570\u636e\u5e93\u4f7f\u7528 ",t.a.createElement("code",null,"db.dropDataBase()")," \u51fd\u6570\u8fdb\u884c\u3002"),t.a.createElement(r.a,{code:'# \u67e5\u770b\u6240\u6709\u6570\u636e\u5e93\n> show dbs\ndb    0.001GB\nlocal 0.000GB\ntest  0.000GB\n\n# \u5207\u6362\u5230\u8981\u5220\u9664\u7684\u6570\u636e\u5e93 test\n> use test\nswitched to db test\n\n# \u5220\u9664\u5f53\u524d\u6570\u636e\u5e93\n> db.dropDatabase()\n{ "dropped" : "test123", "ok" : 1 } # \u5220\u9664\u6210\u529f\n',lang:"bash"}),t.a.createElement("h2",{id:"\u6570\u636e\u589e\u52a0"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u6570\u636e\u589e\u52a0"},t.a.createElement("span",{className:"icon icon-link"})),"\u6570\u636e\u589e\u52a0"),t.a.createElement("p",null,"\u6570\u636e\u6dfb\u52a0\u65b9\u6cd5\uff1a"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("code",null,"insert()")),t.a.createElement("li",null,t.a.createElement("code",null,"insertOne()")),t.a.createElement("li",null,t.a.createElement("code",null,"insertMany()"))),t.a.createElement(r.a,{code:'# insert \u63d2\u5165\u4e00\u6761\u6570\u636e\ndb.collection.insert({ name: "Ben", sex: "male" });\n\n# insert \u4e5f\u53ef\u4ee5\u63d2\u5165\u591a\u6761\u6570\u636e\ndb.collection.insert([{ name: "Ben", sex: "male"}, { name: "Amy", sex: "female" }])\n\n# insertOne \u53ea\u80fd\u63d2\u5165\u4e00\u6761\u6570\u636e\ndb.collection.insertOne({ name: "Ben", sex: "male" })\n\n# insertMany \u53ef\u4ee5\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u6570\u636e\uff0c\u4f46\u662f\u5fc5\u987b\u4ee5\u5217\u8868\u7684\u5f62\u5f0f\u7ec4\u7ec7\u6570\u636e\ndb.collection.insertMany([{ name: "Ben", sex: "male" }])\n\n# \u5982\u679c\u4e0d\u6307\u5b9a _id\uff0csave \u7684\u529f\u80fd\u4e0e insert \u4e00\u6837\ndb.collection.save([{ name: "Ben" }, { name: "Amy" }])\n\n# \u5982\u679c\u6307\u5b9a _id\uff0cmongodb \u5c31\u4e0d\u4e3a\u8be5\u6761\u8bb0\u5f55\u81ea\u52a8\u751f\u6210 _id \u4e86\uff0c\u53ea\u6709 save \u53ef\u4ee5\u6307\u5b9a _id\uff0cinsert\u3001insertOne\u3001insertMany \u90fd\u4e0d\u53ef\u4ee5\ndb.collection.save({ _id: ObjectId("..."), name: "Ben" })\n',lang:"bash"}),t.a.createElement("h2",{id:"\u6570\u636e\u4fee\u6539"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u6570\u636e\u4fee\u6539"},t.a.createElement("span",{className:"icon icon-link"})),"\u6570\u636e\u4fee\u6539"),t.a.createElement("h3",{id:"update"},t.a.createElement("a",{"aria-hidden":"true",href:"#update"},t.a.createElement("span",{className:"icon icon-link"})),"update"),t.a.createElement("p",null,"\u4fee\u6539\u65b9\u6cd5\uff1a",t.a.createElement("code",null,"update()")),t.a.createElement(r.a,{code:"db.collection.update(\n  <query>, # update \u7684\u67e5\u8be2\u6761\u4ef6\uff0c\u7c7b\u4f3c\u4e8e sql update \u8bed\u53e5 where \u540e\u9762\u90e8\u5206\n  <update>, # update \u7684\u5bf9\u8c61\u548c\u4e00\u4e9b\u66f4\u65b0\u7684\u64cd\u4f5c\u7b26\u7b49\uff0c\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a sql update \u8bed\u53e5 set \u540e\u9762\u7684\u90e8\u5206\n  {\n    upsert: <boolean>, # \u53ef\u9009\uff0c\u8fd9\u4e2a\u53c2\u6570\u7684\u610f\u601d\u662f\uff0c\u5982\u679c\u4e0d\u5b58\u5728 update \u7684\u8bb0\u5f55\uff0c\u662f\u5426\u63d2\u5165 objNew\uff0ctrue \u4e3a\u63d2\u5165\uff0c\u9ed8\u8ba4 false\uff0c\u4e0d\u63d2\u5165\n    multi: <boolean>, # \u53ef\u9009\uff0cmongodb \u9ed8\u8ba4\u662f false\uff0c\u53ea\u66f4\u65b0\u627e\u5230\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\uff0c\u5982\u679c\u8fd9\u4e2a\u53c2\u6570\u4e3a true\uff0c\u5c31\u628a\u6309\u6761\u4ef6\u67e5\u51fa\u6765\u591a\u6761\u8bb0\u5f55\u5168\u90e8\u66f4\u65b0\n    writeConcern: <document> # \u53ef\u9009\uff0c\u629b\u51fa\u5f02\u5e38\u7684\u7ea7\u522b\n  }\n)\n",lang:"bash"}),t.a.createElement("p",null,"Ben \u540c\u5b66\u53d1\u73b0\u8001\u662f\u628a\u5979\u7684 C++ \u8bfe\u7a0b\u5206\u6570\u5f55\u9519\u4e86\uff0c\u9700\u8981\u4fee\u6539\u4e3a 75 \u5206\uff1a"),t.a.createElement(r.a,{code:"db.collection.update({ _id: ObjectId('...')}, { $set: { score: 75 }})\n",lang:"bash"}),t.a.createElement("p",null,"\u8001\u5e08\u53d1\u73b0\u628a Ben \u540c\u5b66\u7684\u540d\u5b57\u5f55\u9519\u4e86\uff0c\u9700\u8981\u5168\u90e8\u4fee\u6539\u8fc7\u6765\uff1a"),t.a.createElement(r.a,{code:"# \u8fd9\u6837\u662f\u4e0d\u5bf9\u7684\uff0c\u53ea\u4f1a\u4fee\u6539\u4e00\u6761\u8bb0\u5f55\ndb.collection.update({ _id: ObjectId('...')}, { $set: { score: 75 }})\n\n# \u8fd9\u6837\u624d\u5bf9\ndb.collection.update({ name: 'Ben', class: 'Java' }, { $set: { score: 95 }}, { multi: true })\n",lang:"bash"}),t.a.createElement("p",null,"\u5c06 Ben \u7684 Java \u8bfe\u7a0b\u5206\u6570\u6539\u4e3a 95 \u5206\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u5c31\u63d2\u5165\u4e00\u6761\u8bb0\u5f55\uff1a"),t.a.createElement(r.a,{code:"db.collection.update({ name: 'Ben', class: 'Java' }, { $set: { score: 95 }}, true)\n",lang:"bash"}),t.a.createElement("h3",{id:"save"},t.a.createElement("a",{"aria-hidden":"true",href:"#save"},t.a.createElement("span",{className:"icon icon-link"})),"save"),t.a.createElement("p",null,"save \u65b9\u6cd5\u901a\u8fc7\u4f20\u5165\u7684\u6587\u6863\u6765\u66ff\u6362\u5df2\u6709\u6587\u6863\u3002\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a"),t.a.createElement(r.a,{code:"db.collection.save(\n  <document>, # \u6587\u6863\u6570\u636e\n  {\n    writeConcern: <document>, # \u53ef\u629b\uff0c\u629b\u51fa\u7684\u5f02\u5e38\u7ea7\u522b\n  }\n)\n",lang:"bash"}),t.a.createElement("h2",{id:"\u6570\u636e\u67e5\u8be2"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u6570\u636e\u67e5\u8be2"},t.a.createElement("span",{className:"icon icon-link"})),"\u6570\u636e\u67e5\u8be2"),t.a.createElement("p",null,"\u6570\u636e\u67e5\u8be2\u7684\u65b9\u6cd5\u6709 ",t.a.createElement("code",null,"findOne")," \u548c ",t.a.createElement("code",null,"find"),"\uff0c\u4e8c\u8005\u53c2\u6570\u7b49\u7528\u6cd5\u4e00\u81f4\uff0c\u4f46\u662f ",t.a.createElement("code",null,"findOne")," \u53ea\u8fd4\u56de\u4e00\u6761\u5339\u914d\u7684\u6570\u636e\uff0c",t.a.createElement("code",null,"find")," \u8fd4\u56de\u5168\u90e8\u7684\u5339\u914d\u6570\u636e\u3002"),t.a.createElement("h3",{id:"\u6761\u4ef6\u64cd\u4f5c\u7b26"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u6761\u4ef6\u64cd\u4f5c\u7b26"},t.a.createElement("span",{className:"icon icon-link"})),"\u6761\u4ef6\u64cd\u4f5c\u7b26"),t.a.createElement("table",null,t.a.createElement("thead",null,t.a.createElement("tr",null,t.a.createElement("th",null,"\u64cd\u4f5c"),t.a.createElement("th",null,"SQL \u67e5\u8be2\u5199\u6cd5"),t.a.createElement("th",null,"MongoDB \u67e5\u8be2\u5199\u6cd5"))),t.a.createElement("tbody",null,t.a.createElement("tr",null,t.a.createElement("td",null,"\u7b49\u4e8e"),t.a.createElement("td",null,t.a.createElement("code",null,"select * from collection where score = 75")),t.a.createElement("td",null,t.a.createElement("code",null,"db.collection.find(","{"," score: 75","}",")"))),t.a.createElement("tr",null,t.a.createElement("td",null,"\u5c0f\u4e8e"),t.a.createElement("td",null,t.a.createElement("code",null,"select * from collection where score < 75")),t.a.createElement("td",null,t.a.createElement("code",null,"db.collection.find(","{"," score: ","{"," $lt: 75","}}",")"))),t.a.createElement("tr",null,t.a.createElement("td",null,"\u5c0f\u4e8e\u7b49\u4e8e"),t.a.createElement("td",null,t.a.createElement("code",null,"select * from collection where score = 75")),t.a.createElement("td",null,t.a.createElement("code",null,"db.collection.find(","{"," score: ","{"," $lte: 75","}}",")"))),t.a.createElement("tr",null,t.a.createElement("td",null,"\u5927\u4e8e"),t.a.createElement("td",null,t.a.createElement("code",null,"select * from collection where score > 75")),t.a.createElement("td",null,t.a.createElement("code",null,"db.collection.find(","{"," score: ","{"," $gt: 75","}}",")"))),t.a.createElement("tr",null,t.a.createElement("td",null,"\u5927\u4e8e\u7b49\u4e8e"),t.a.createElement("td",null,t.a.createElement("code",null,"select * from collection where score >= 75")),t.a.createElement("td",null,t.a.createElement("code",null,"db.collection.find(","{"," score: ","{"," $gte: 75","}}",")"))),t.a.createElement("tr",null,t.a.createElement("td",null,"\u4e0d\u7b49\u4e8e"),t.a.createElement("td",null,t.a.createElement("code",null,"select * from collection where score != 75")),t.a.createElement("td",null,t.a.createElement("code",null,"db.collection.find(","{"," score: ","{"," $ne: 75","}}",")"))))),t.a.createElement("h3",{id:"\u6392\u5e8f\u548c\u5206\u9875"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u6392\u5e8f\u548c\u5206\u9875"},t.a.createElement("span",{className:"icon icon-link"})),"\u6392\u5e8f\u548c\u5206\u9875"),t.a.createElement("p",null,"\u4ee5\u5206\u6570\u4ece\u9ad8\u5230\u4f4e\u663e\u793a\u5b66\u751f\u7684 C++ \u8bfe\u7a0b\u6210\u7ee9\uff0c\u53ea\u663e\u793a\u7b2c 10 \u540d\u5230\u7b2c 20 \u540d\u7684\u5b66\u751f\uff1a"),t.a.createElement(r.a,{code:"db.collection.find({ class: 'C++'}).sort({ score: -1 }).skip(9).limit(11)\n# sort: 1 \u4e3a\u5347\u5e8f, -1 \u4e3a\u964d\u5e8f, \u9ed8\u8ba4\u5347\u5e8f\n# limit: \u663e\u793a\u591a\u5c11\u6761\u6570\u636e\n# skip: \u8df3\u8fc7\u591a\u5c11\u6761\u6570\u636e\n",lang:"bash"}),t.a.createElement("h3",{id:"\u590d\u5408\u6761\u4ef6\u67e5\u8be2"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u590d\u5408\u6761\u4ef6\u67e5\u8be2"},t.a.createElement("span",{className:"icon icon-link"})),"\u590d\u5408\u6761\u4ef6\u67e5\u8be2"),t.a.createElement("p",null,t.a.createElement("code",null,"and"),"\uff1a",t.a.createElement("code",null,"find")," \u65b9\u6cd5\u53ef\u4ee5\u4f20\u5165\u591a\u4e2a\u952e\u503c\u5bf9\uff0c\u6bcf\u4e2a\u952e\u503c\u5bf9\u4ee5\u9017\u53f7\u9694\u5f00\uff0c\u5373\u5e38\u89c4 SQL \u7684 AND \u6761\u4ef6\u3002"),t.a.createElement("p",null,"\u67e5\u8be2 Ben \u540c\u5b66\u7684 C++ \u8bfe\u7a0b\u6210\u7ee9\uff1a"),t.a.createElement(r.a,{code:"db.collection.find({ name: 'Ben', class: 'C++' })\n",lang:"sql"}),t.a.createElement("p",null,"\u67e5\u8be2\u5206\u6570\u5728 75 \u5230 85 \u4e4b\u95f4\u7684\u6210\u7ee9\u8bb0\u5f55\uff1a"),t.a.createElement(r.a,{code:"db.collection.find({ socre: { $gt: 75, $lt: 85 }})\n",lang:"sql"}),t.a.createElement("p",null,t.a.createElement("code",null,"or"),"\uff1aMongoDB OR \u6761\u4ef6\u8bed\u53e5\u4f7f\u7528\u4e86\u5173\u952e\u5b57 ",t.a.createElement("code",null,"$or"),"\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b\uff1a"),t.a.createElement(r.a,{code:"db.collection.find(\n  {\n    $or: [\n      { key1: value1 }, { key2: value2 }\n    ]\n  }\n)\n",lang:"sql"}),t.a.createElement("p",null,"\u67e5\u8be2 Ben \u6216 Jack \u7684\u8bfe\u7a0b\u6210\u7ee9\uff1a"),t.a.createElement(r.a,{code:"db.collection.find({ $or: [{ name: 'Ben' }, { name: 'Jack' }] })\n",lang:"sql"}),t.a.createElement("p",null,t.a.createElement("code",null,"and")," \u548c ",t.a.createElement("code",null,"or")," \u590d\u5408\u67e5\u8be2\uff1a"),t.a.createElement("p",null,"\u67e5\u8be2 Ben \u7684 C++ \u6216 Python \u8bfe\u7a0b\u7684\u6210\u7ee9\uff1a"),t.a.createElement(r.a,{code:"db.collection.find({ name: 'Ben', $or: [{ class: 'C++' }, { class: 'Python' }]})\n",lang:"sql"}),t.a.createElement("h3",{id:"\u5305\u542b\u4e0e\u5168\u90e8"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5305\u542b\u4e0e\u5168\u90e8"},t.a.createElement("span",{className:"icon icon-link"})),"\u5305\u542b\u4e0e\u5168\u90e8"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u5305\u542b ",t.a.createElement("code",null,"in")),t.a.createElement("li",null,"\u4e0d\u5305\u542b ",t.a.createElement("code",null,"nin")),t.a.createElement("li",null,"\u5168\u90e8 ",t.a.createElement("code",null,"all"))),t.a.createElement("p",null,"\u67e5\u8be2 Ben\u3001Jack \u548c Amy \u7684\u6210\u7ee9\uff1a"),t.a.createElement(r.a,{code:"db.collection.find({ name: { $in: ['Ben', 'Jack', 'Amy'] } })\n",lang:"sql"}),t.a.createElement("p",null,"\u67e5\u8be2\u9664\u4e86 Ben\u3001Jack \u548c Amy \u4e4b\u5916\uff0c\u5176\u4ed6\u4eba\u7684\u6210\u7ee9\uff1a"),t.a.createElement(r.a,{code:"db.collection.find({ name: { $nin: ['Ben', 'Jack', 'Amy'] })\n",lang:"sql"}),t.a.createElement("p",null,t.a.createElement("code",null,"in")," \u548c ",t.a.createElement("code",null,"nin")," \u6bd4\u8f83\u597d\u7406\u89e3\uff0c\u8ddf SQL \u7684\u7528\u6cd5\u7c7b\u4f3c\uff0c",t.a.createElement("code",null,"all")," \u7c7b\u4f3c\u4e8e ",t.a.createElement("code",null,"in"),"\uff0c\u4e0d\u540c\u7684\u5730\u65b9\u662f\uff0c",t.a.createElement("code",null,"in")," \u53ea\u9700\u8981\u6ee1\u8db3\u5217\u8868\u4e2d\u7684\u4e00\u4e2a\u503c\u5373\u53ef\uff0c\u800c ",t.a.createElement("code",null,"all")," \u9700\u8981\u6ee1\u8db3\u5217\u8868\u4e2d\u7684\u5168\u90e8\u503c\u3002"),t.a.createElement(r.a,{code:"# \u7528 all \u64cd\u4f5c\u7b26\uff0c\u8868\u793a\u9700\u8981\u6ee1\u8db3 C++ \u548c Java \u4e24\u9879\ndb.collection.find({ course: { $all: ['C++', 'Java']}})\n",lang:"bash"}),t.a.createElement("h3",{id:"\u5224\u65ad\u5b57\u6bb5\u662f\u5426\u5b58\u5728"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5224\u65ad\u5b57\u6bb5\u662f\u5426\u5b58\u5728"},t.a.createElement("span",{className:"icon icon-link"})),"\u5224\u65ad\u5b57\u6bb5\u662f\u5426\u5b58\u5728"),t.a.createElement("p",null,"\u9700\u8981\u627e\u51fa\u6ca1\u6709 ",t.a.createElement("code",null,"tel")," \u5b57\u6bb5\u7684\u5b66\u751f\uff1a"),t.a.createElement(r.a,{code:'# \u5b57\u6bb5\u4e0d\u5b58\u5728\u5c31\u7528false\uff0c\u5b58\u5728\u5c31\u7528true\ndb.collection.find({"tel": {$exists: false}})\n',lang:"bash"}),t.a.createElement("h3",{id:"\u7a7a\u503c\u5904\u7406"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u7a7a\u503c\u5904\u7406"},t.a.createElement("span",{className:"icon icon-link"})),"\u7a7a\u503c\u5904\u7406"),t.a.createElement("p",null,"\u5982\u679c\u53ea\u60f3\u627e ",t.a.createElement("code",null,"tel")," \u503c\u4e3a ",t.a.createElement("code",null,"null")," \u7684\u60c5\u51b5\uff1a"),t.a.createElement(r.a,{code:"db.collection.find({ tel: { $in: [null], $exists: true } })\n",lang:"bash"}),t.a.createElement("h3",{id:"\u53d6\u6a21\u8fd0\u7b97"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u53d6\u6a21\u8fd0\u7b97"},t.a.createElement("span",{className:"icon icon-link"})),"\u53d6\u6a21\u8fd0\u7b97"),t.a.createElement("p",null,"\u6bd4\u5982\uff0c\u67e5\u627e\u5b66\u751f\u6210\u7ee9\u53d6\u6a21 10 \u7b49\u4e8e 0 \u7684\u6570\u636e\uff08\u5373 100\u300190 \u300180 \u7b49\u7b49\uff09"),t.a.createElement(r.a,{code:"db.collection.find({ tel: { $in: [null], $exists: true }})\n",lang:"bash"}),t.a.createElement("h3",{id:"\u6b63\u5219\u5339\u914d"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u6b63\u5219\u5339\u914d"},t.a.createElement("span",{className:"icon icon-link"})),"\u6b63\u5219\u5339\u914d"),t.a.createElement("p",null,"\u67e5\u8be2\u5b66\u751f\u540d\u5b57\u4ee5 ",t.a.createElement("code",null,"a")," \u5f00\u5934\u7684\u5b66\u751f\u6210\u7ee9\uff1a"),t.a.createElement(r.a,{code:"db.collection.find({ name: { $regex: /^a.*/ }})\n",lang:"bash"}),t.a.createElement("h3",{id:"\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u6570\u91cf"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u6570\u91cf"},t.a.createElement("span",{className:"icon icon-link"})),"\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\u6570\u91cf"),t.a.createElement("p",null,"\u67e5\u8be2\u5b66\u751f\u540d\u5b57\u4ee5 ",t.a.createElement("code",null,"a")," \u5f00\u5934\u7684\u5b66\u751f\u6210\u7ee9\uff1a"),t.a.createElement(r.a,{code:"db.collection.find().count()\n",lang:"bash"}),t.a.createElement("p",null,"\u5f53\u4f7f\u7528 ",t.a.createElement("code",null,"limit")," \u65b9\u6cd5\u9650\u5236\u8fd4\u56de\u7684\u8bb0\u5f55\u6570\u65f6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b ",t.a.createElement("code",null,"count")," \u65b9\u6cd5\u4ecd\u7136\u8fd4\u56de\u5168\u90e8\u8bb0\u5f55\u6761\u6570\u3002\u5982\u679c\u5e0c\u671b\u8fd4\u56de\u9650\u5236\u4e4b\u540e\u7684\u8bb0\u5f55\u6570\u91cf\uff0c\u8981\u4f7f\u7528 ",t.a.createElement("code",null,"count(true)"),"\u3002"),t.a.createElement(r.a,{code:"db.collection.find().count()\n\ndb.collection.find().limit().count()\n\ndb.collection.find().limit(1).count(true)\n",lang:"bash"}),t.a.createElement("h3",{id:"distinct"},t.a.createElement("a",{"aria-hidden":"true",href:"#distinct"},t.a.createElement("span",{className:"icon icon-link"})),"distinct"),t.a.createElement("p",null,"\u67e5\u8be2\u8bfe\u7a0b\u6210\u7ee9\u8868\u4e2d\u6240\u6709\u5b66\u751f\u7684\u540d\u5355\uff1a"),t.a.createElement(r.a,{code:"db.collection.distinct('name')\n",lang:"bash"}),t.a.createElement("h2",{id:"\u6570\u636e\u5220\u9664"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u6570\u636e\u5220\u9664"},t.a.createElement("span",{className:"icon icon-link"})),"\u6570\u636e\u5220\u9664"),t.a.createElement("h3",{id:"deleteone-\u548c-deletemany"},t.a.createElement("a",{"aria-hidden":"true",href:"#deleteone-\u548c-deletemany"},t.a.createElement("span",{className:"icon icon-link"})),"deleteOne \u548c deleteMany"),t.a.createElement(r.a,{code:"# \u5220\u9664 Ben \u7684\u4e00\u6761\u6210\u7ee9\u8bb0\u5f55\ndb.collection.deleteOne({ name: 'Ben' })\n\n# \u5220\u9664 Ben \u7684\u6240\u6709\u6210\u7ee9\u8bb0\u5f55\ndb.collection.deleteMany({ name: 'Ben' })\n\n# \u5220\u9664\u6210\u7ee9\u8868\u91cc\u6240\u6709\u5185\u5bb9\ndb.collection.deleteMany({})\n",lang:"bash"}),t.a.createElement("h3",{id:"remove"},t.a.createElement("a",{"aria-hidden":"true",href:"#remove"},t.a.createElement("span",{className:"icon icon-link"})),"remove"),t.a.createElement(r.a,{code:"db.collection.remove(\n  <query>, # \u53ef\u9009\uff0c\u67e5\u8be2\u6761\u4ef6\n  {\n    justOne: <boolean>, # \u53ef\u9009\uff0c\u8bbe\u7f6e\u4e3a true \u6216\u8005 1\uff0c\u8868\u793a\u53ea\u5220\u9664\u4e00\u4e2a\u6587\u6863\uff0c\u8bbe\u7f6e\u4e3a false\uff0c\u8868\u793a\u5220\u9664\u6240\u6709\u5339\u914d\u7684\u6587\u6863\uff0c\u9ed8\u8ba4\u4e3a false\n    writeConcern: <document> # \u53ef\u9009\uff0c\u629b\u51fa\u5f02\u5e38\u7684\u7ea7\u522b\n  }\n)\n",lang:"bash"}),t.a.createElement("p",null,"\u5220\u9664 Ben \u7684\u6240\u6709\u6210\u7ee9\u8bb0\u5f55\uff1a"),t.a.createElement(r.a,{code:"db.collection.remove({ name: 'Ben' });\n\n# remove \u65b9\u6cd5\u5e76\u4e0d\u4f1a\u771f\u6b63\u91ca\u653e\u7a7a\u95f4\uff0c\u9700\u8981\u7ee7\u7eed\u6267\u884c db.repairDatabase() \u6765\u56de\u6536\u78c1\u76d8\u7a7a\u95f4\ndb.repairDatabase()\n\n# \u4e0e\u4e0a\u4e00\u53e5\u7b49\u6548\uff0c\u4ecd\u4ee5\u6267\u884c\u4e00\u53e5\u5373\u53ef\ndb.runCommand({ repairDatabase: 1})\n",lang:"bash"}),t.a.createElement("p",null,t.a.createElement("code",null,"remove")," \u73b0\u5728\u5df2\u7ecf\u8fc7\u65f6\u4e86\uff0c\u5b98\u65b9\u63a8\u8350\u4f7f\u7528 ",t.a.createElement("code",null,"deleteOne")," \u548c ",t.a.createElement("code",null,"deleteMany")," \u65b9\u6cd5\u3002"),t.a.createElement("h2",{id:"\u7d22\u5f15"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u7d22\u5f15"},t.a.createElement("span",{className:"icon icon-link"})),"\u7d22\u5f15"),t.a.createElement("p",null,"\u7d22\u5f15\u901a\u5e38\u80fd\u591f\u6781\u5927\u7684\u63d0\u9ad8\u67e5\u8be2\u7684\u6548\u7387\uff0c\u5c31\u50cf\u4e66\u7684\u76ee\u5f55\u4e00\u6837\uff0c\u5982\u679c\u6ca1\u6709\u7d22\u5f15 mongodb \u5c31\u4f1a\u53bb\u626b\u63cf\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u6587\u4ef6\u5e76\u9009\u53d6\u7b26\u5408\u67e5\u8be2\u6761\u4ef6\u7684\u6570\u636e\uff0c\u5728\u6570\u636e\u91cf\u5927\u7684\u65f6\u5019\u8fd9\u79cd\u67e5\u8be2\u76f8\u7387\u5f88\u4f4e\u4e0b\u3002"),t.a.createElement("p",null,"\u4f7f\u7528 ",t.a.createElement("code",null,"db.\u96c6\u5408\u540d\u79f0.getIndexed()")," \u83b7\u53d6\u96c6\u5408\u7d22\u5f15\u3002"),t.a.createElement("h3",{id:"\u521b\u5efa\u7d22\u5f15"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u521b\u5efa\u7d22\u5f15"},t.a.createElement("span",{className:"icon icon-link"})),"\u521b\u5efa\u7d22\u5f15"),t.a.createElement("p",null,"\u521b\u5efa\u7d22\u5f15\u7684\u65b9\u6cd5\uff1a",t.a.createElement("code",null,"createIndex()")),t.a.createElement(r.a,{code:'# \u5728 person \u96c6\u5408\u4e2d\u9488\u5bf9 name \u5b57\u6bb5\u521b\u5efa\u4e00\u4e2a\u5347\u5e8f\u6392\u5217\u7684\u7d22\u5f15\ndb.person.createIndex({ "name": 1 });\n\ndb.person.getIndexes();\n[\n  {\n    "v": 1,\n    "key": {\n      "_id": 1\n    },\n    "name": "_id",\n    "ns": "test.person"\n  },\n  {\n    "v": 1,\n    "key": {\n      "name": 1\n    },\n    "name": "name_1",\n    "ns": "test.person"\n  }\n]\n',lang:"bash"}),t.a.createElement("h3",{id:"\u5220\u9664\u7d22\u5f15"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5220\u9664\u7d22\u5f15"},t.a.createElement("span",{className:"icon icon-link"})),"\u5220\u9664\u7d22\u5f15"),t.a.createElement("p",null,"\u5220\u9664\u7d22\u5f15\u7684\u65b9\u6cd5\uff1a",t.a.createElement("code",null,"dropIndex()")),t.a.createElement(r.a,{code:'# \u5220\u9664\u6307\u5b9a\u7d22\u5f15\ndb.person.dropIndex({ "name": 1 });\n{ "nIndexesWas": 2, "ok": 1 }\n\ndb.person.getIndexes();\n[\n  {\n    "v": 1,\n    "key": {\n      "_id": 1\n    },\n    "name": "_id",\n    "ns": "test.person"\n  }\n]\n\n# \u5220\u9664\u5168\u90e8\u7d22\u5f15\ndb.person.dropIndexes()\n',lang:"bash"}),t.a.createElement("h2",{id:"\u5bfc\u51fa\u6570\u636e\u6587\u4ef6"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5bfc\u51fa\u6570\u636e\u6587\u4ef6"},t.a.createElement("span",{className:"icon icon-link"})),"\u5bfc\u51fa\u6570\u636e\u6587\u4ef6"),t.a.createElement(r.a,{code:"mongodump -h IP --port \u7aef\u53e3 -u \u7528\u6237\u540d -p \u5bc6\u7801 -d \u6570\u636e\u5e93 -o \u6587\u4ef6\u5b58\u5728\u8def\u5f84\n",lang:"bash"}),t.a.createElement("ul",null,t.a.createElement("li",null,"\u5982\u679c\u6ca1\u6709\u7528\u6237\u8c01\uff0c\u53ef\u4ee5\u53bb\u6389 ",t.a.createElement("code",null,"-u")," \u548c ",t.a.createElement("code",null,"-p"),"\u3002"),t.a.createElement("li",null,"\u5982\u679c\u5bfc\u51fa\u672c\u673a\u7684\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u53bb\u6389 ",t.a.createElement("code",null,"-h"),"\u3002"),t.a.createElement("li",null,"\u5982\u679c\u662f\u9ed8\u8ba4\u7aef\u53e3\uff0c\u53ef\u4ee5\u53bb\u6389 ",t.a.createElement("code",null,"--port"),"\u3002"),t.a.createElement("li",null,"\u5982\u679c\u60f3\u5bfc\u51fa\u6240\u6709\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u53bb\u6389 ",t.a.createElement("code",null,"-d"),"\u3002")),t.a.createElement("h2",{id:"\u5bfc\u5165\u6570\u636e\u6587\u4ef6"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u5bfc\u5165\u6570\u636e\u6587\u4ef6"},t.a.createElement("span",{className:"icon icon-link"})),"\u5bfc\u5165\u6570\u636e\u6587\u4ef6"),t.a.createElement(r.a,{code:"mongorestore -h IP --port \u7aef\u53e3 -u \u7528\u6237\u540d -p \u5bc6\u7801 -d \u6570\u636e\u5e93 --drop\n",lang:"bash"}),t.a.createElement("p",null,t.a.createElement("code",null,"--drop")," \u7684\u610f\u601d\u662f\uff0c\u5148\u5220\u9664\u6240\u6709\u7684\u8bb0\u5f55\uff0c\u7136\u540e\u6062\u590d"),t.a.createElement("h2",{id:"\u526f\u672c\u96c6"},t.a.createElement("a",{"aria-hidden":"true",href:"#\u526f\u672c\u96c6"},t.a.createElement("span",{className:"icon icon-link"})),"\u526f\u672c\u96c6"),t.a.createElement("p",null,"\u4f7f\u7528 Docker \u521b\u5efa MongoDB \u526f\u672c\u96c6"),t.a.createElement(r.a,{code:"# \u521b\u5efa Docker Network\n$ docker network create mynetwork\n\n$ docker network ls\n",lang:"bash"}),t.a.createElement("p",null,"\u521b\u5efa\u9700\u8981\u4f7f\u7528\u7684\u590d\u5236\u96c6\u8282\u70b9"),t.a.createElement(r.a,{code:"# \u8fd0\u884c\u4e09\u4e2a Docker \u5bb9\u5668\uff0c\u6bcf\u4e2a\u5bb9\u6613\u4e00\u4e2a mongod \u8282\u70b9\n$ docker run --net mynetwork --name mongol -v /mymongo/data1:/data/db -p 27017:27017 -d mongo:4 --replSet myset --port 27017\n\n$ docker run --net mynetwork --name mongo2 -v /mymongo/data2:/data/db -p 27018:27018 -d mongo:4 --replSet myset --port 27018\n\n$ docker run --net mynetwork --name mongo3 -v /mymongo/data3:/data/db -p 27019:27019 -d mongo:4 --replSet myset --port 27019\n",lang:"bash"}),t.a.createElement("p",null,"\u521b\u5efa\u590d\u5236\u96c6"),t.a.createElement(r.a,{code:'# \u521b\u5efa\u4e00\u4e2a\u62e5\u6709\u4e09\u4e2a\u8282\u70b9\u7684\u590d\u5236\u96c6\n$ docker exec -it mongo1 mongo\n> rs.initiate(\n  {\n    _id: "myset",\n    members: [\n        # mongo1 \u662f docker \u5bb9\u5668\u540d\u79f0\uff0c27017 \u662f docker \u66b4\u9732\u5bbf\u4e3b\u673a\u7684\u7aef\u53e3\n      { _id: 0, host: "mongo1:27017" },\n      { _id: 1, host: "mongo2:27018" },\n      { _id: 2, host: "mongo3:27019" }\n    ]\n  }\n)\n',lang:"bash"}),t.a.createElement("p",null,"\u67e5\u770b\u590d\u5236\u96c6\u72b6\u6001"),t.a.createElement(r.a,{code:"$ rs.status()\n",lang:"bash"}),t.a.createElement("hr",null),t.a.createElement("p",null,t.a.createElement("strong",null,"\u53c2\u8003\u8d44\u6599\uff1a")),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement("a",{href:"https://blog.csdn.net/weixin_34095889/article/details/89046540",target:"_blank",rel:"noopener noreferrer"},"MongoDB \u5b66\u4e60\u7b14\u8bb0\u7eaf\u5e72\u8d27",t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},t.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),t.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))))))}}}]);